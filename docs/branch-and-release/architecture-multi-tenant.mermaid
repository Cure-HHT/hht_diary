```mermaid
flowchart TB
    subgraph "Multi-Tenant Architecture (NOT RECOMMENDED for Clinical Trials)"
        direction TB
        
        subgraph "Simplified Code Repository"
            MAIN2[main branch]
            REL3[release/v1.x]
            MOB2[mobile/v2.1]
        end
        
        MAIN2 --> REL3
        MAIN2 --> MOB2
        
        subgraph "Single GCP Project"
            direction TB
            subgraph "Cloud Run (Multi-tenant)"
                CR2[Portal Application]
                TEN[Tenant Router]
                CR2 --> TEN
            end
            
            subgraph "Shared Firestore"
                FS2[(Database)]
                T1[/tenants/acme/...]
                T2[/tenants/beta/...]
                FS2 --> T1
                FS2 --> T2
            end
            
            TEN -->|tenant=acme| T1
            TEN -->|tenant=beta| T2
        end
        
        subgraph "App Stores"
            IOS2[iOS App v2.1]
            AND2[Android App v2.1]
        end
        
        REL3 -.->|Single Deploy| CR2
        MOB2 -.->|Publish| IOS2
        MOB2 -.->|Publish| AND2
        
        IOS2 --> CR2
        AND2 --> CR2
    end
    
    style TEN fill:#ffcccc
    style T1 fill:#ffe6cc
    style T2 fill:#e6ffcc
```
